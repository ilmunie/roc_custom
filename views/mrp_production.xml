<?xml version="1.0"?>
<odoo>
    <record id="mrp_production_tree_view_inherit" model="ir.ui.view">
		<field name="name">mrp.production.tree.view.inherit</field>
		<field name="model">mrp.production</field>
		<field name="inherit_id" ref="mrp.mrp_production_tree_view"/>
		<field name="arch" type="xml">


            <field name="state" position="after">
                <field name="purchase_order_ids" widget="many2many_tags"/>
                <field name="sale_order_ids" widget="many2many_tags"/>
            </field>
		</field>
    </record>
    <record id="mrp_production_form_view_inherit" model="ir.ui.view">
		<field name="name">mrp.production.form.view.inherit</field>
		<field name="model">mrp.production</field>
		<field name="inherit_id" ref="mrp.mrp_production_form_view"/>
		<field name="arch" type="xml">
            <button name="action_confirm" position="replace">
                <button groups="roc_custom.group_confirm_mrp" name="action_confirm" attrs="{'invisible': [('state', '!=', 'waiting_approval')]}" string="Confirmar" type="object" class="oe_highlight" data-hotkey="v"/>
                <button name="button_confirm_with_approval" attrs="{'invisible': [('state', '!=', 'draft')]}" string="Confirmar" type="object" class="oe_highlight" data-hotkey="v"/>
                <button name="edit" attrs="{'invisible': [('state', '!=', 'waiting_approval')]}" string="Editar" type="object"/>
            </button>
            <field name="quantity_done" position="replace">
                <field name="quantity_done" string="Consumed" decoration-success="not is_done and (quantity_done - should_consume_qty == 0)" decoration-warning="not is_done and (quantity_done - should_consume_qty &gt; 0.0001)" attrs="{'column_invisible': [('parent.state', 'in', ('draft','waiting_approval'))], 'readonly': [('has_tracking', '!=','none')]}"/>
            </field>



		</field>
    </record>
</odoo>