<?xml version="1.0"?>
<odoo>
        <record id="sale_alternative_product_assistant_wizard_view" model="ir.ui.view">
            <field name="name">sale.alternative.product.assistant.wizard.view</field>
            <field name="model">sale.alternative.product.assistant</field>
            <field name="arch" type="xml">
                <form>
                <script>
                    $(document).ready(function(){
                        $(".modal-dialog").css({"min-width": "97%", "height": "97%"});
                        $(".modal-content").css({"height": "100%"});
                        $(".modal-body").css({"height": "100%"});
                    });
                </script>
                    <div>
                        <h3>Plantilla Presupuesto <field name="sale_template_id" readonly="1" force_save="1"/></h3>
                    </div>
                    <group>

                        <group>
                            <field name="sale_line_id" invisible="1"/>
                            <field name="see_attributes" string="Ver atributos" widget="boolean_toggle" attrs="{'invisible':[('see_attributes','=',True)]}"/>
                            <field name="see_attributes" string="Ver productos" widget="boolean_toggle" attrs="{'invisible':[('see_attributes','=',False)]}"/>
                            <field name="only_available_products"/>
                        </group>
                        <group>
                            <field name="filter_by_category"/>
                            <field name="categ_domain" invisible="1"/>
                            <field name="product_categ_ids" widget="many2many_tags" domain="categ_domain"
                                   attrs="{'invisible':[('filter_by_category','!=',True)]}"  options="{'no_create': True}"/>
                            <field name="filter_by_template"/>
                            <field name="prod_template_domain" invisible="1"/>
                            <field name="product_template_ids" widget="many2many_tags" domain="prod_template_domain"
                                   attrs="{'invisible':[('filter_by_template','!=',True)]}"  options="{'no_create': True}"/>
                            <field name="match_attributes"/>
                            <field name="attribute_value_domain" invisible="1"/>
                            <field name="attribute_value_ids" widget="many2many_tags" domain="attribute_value_domain"
                                   attrs="{'invisible':[('match_attributes','!=',True)]}"  options="{'no_create': True}"/>
                            <field name="attribute_alt_value_domain" invisible="1"/>
                            <field name="attribute_alt_value_ids" widget="many2many_tags" domain="attribute_alt_value_domain"
                                   attrs="{'invisible':[('match_attributes','!=',True)]}"  options="{'no_create': True}"/>
                        </group>
                        </group>
                    <group>
                        <group>
                            <field name="product_to_replace" readonly="1" force_save="1"/>
                        </group>
                        <group>
                            <button string="Filtrar" icon="fa-filter" class="btn-primary" type="object" name="apply_filters" data-hotkey="a" />
                        </group>
                    </group>
                    <group string="Productos Alternativos">
                        <field name="line_ids" domain="[('visible','=',True)]"
                               nolabel="1" create="false" delete="false"
                               options="{'no_open': True}">
                            <tree string="Productos Alternativos" editable="bottom" create="false" delete="false">
                                <!-- Botones -->
                                <button name="add_product"
                                        type="object"
                                        icon="fa-plus"
                                        class="btn-primary"/>
                                <button name="replace_product"
                                        type="object"
                                        icon="fa-exchange"
                                        class="btn-secondary"/>
                                <!-- Campos -->
                                <field name="product_tmpl_id"
                                       attrs="{'column_invisible':[('parent.see_attributes','=',False)]}"/>
                                <field name="product_template_variant_value_ids"
                                       widget="many2many_tags"
                                       attrs="{'column_invisible':[('parent.see_attributes','=',False)]}"/>
                                <field name="product_id"
                                       attrs="{'column_invisible':[('parent.see_attributes','=',True)]}"/>
                                <field name="product_category"/>
                                <field name="list_price"/>
                                <field name="qty"/>
                                <field name="product_uom"/>
                                <field name="location_available" readonly="1" force_save="1"/>
                                <field name="qty_available_not_res" readonly="1" force_save="1"/>
                                <field name="location_virtual_available" readonly="1" force_save="1"/>
                                <field name="location_id" readonly="1" force_save="1"/>
                            </tree>
                        </field>
                    </group>
                    <footer>
                        <button string="Cancel" class="btn-secondary" special="cancel" data-hotkey="z"/>
                    </footer>
                </form>
            </field>
        </record>
</odoo>